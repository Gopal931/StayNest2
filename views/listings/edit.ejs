

 <% layout("/layouts/boilerplate.ejs") -%>
<body>

    <a href="/listings/<%= listing._id %>" class="btn mb-3">
      &larr;
    </a>
  <div class="container mt-2 mb-2">
    <h2>Edit your list:</h2>

     <form method="POST" action="/listings/<%= listing._id %>?_method=PUT" class="needs-validation" novalidate enctype="multipart/form-data">   <!-- also install method-override as "npm i method-override"  as also import in app.js file -->

      <div class="mb-3">
        <label for="title" class="form-label">Title:</label>
        <input type="text" id="title" name="title" class="form-control" value="<%= listing.title %>" required>
        <div class="invalid-feedback">Please enter a valid Title</div>

      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Description:</label>
        <textarea id="description" name="description" class="form-control" required ><%= listing.description %></textarea>
        <div class="invalid-feedback">Please enter a valid description</div>

      </div>

      <div class="mb-3">
        Original Listing image:<br />
        <img src="<%= listing.image.url %>" alt="" height="150px" width="190px">
      </div>
      <div class="mb-3">
        <label for="image" class="form-label">Upload New Image:</label>
        <input type="file" id="image" name="image[url]" class="form-control">
      </div>
     <div class="row">
      <div class="mb-3 col-md-4">
        <label for="price" class="form-label">Price:</label>
        <input type="number" id="price" name="price" class="form-control" value="<%= listing.price %>" required>
      <div class="invalid-feedback">Please enter a valid Price</div>

      </div>

       <div class="mb-3 col-md-8">
        <label for="country" class="form-label">Country:</label>
        <input type="text" id="country" name="country" class="form-control" value="<%= listing.country %>" required>
       <div class="invalid-feedback">Please enter a valid Country Name</div>

      </div>
      </div> 
      <div class="mb-3">
        <label for="location" class="form-label">Location:</label>
        <input type="text" id="location" name="location" class="form-control" value="<%= listing.location %>" required>
      <div class="invalid-feedback">Please enter a valid Location</div>

      </div>

      

      <button type="submit" class="btn btn-primary add-btn">UPDATE</button>
    </form>
  </div>

</body>

